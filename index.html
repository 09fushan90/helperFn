<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Helper</title>

    <style>
        body {
            background: #000;
            color: #fff;
            margin: 0;
            font-family: Arial, sans-serif;
            text-align: center;
            padding-top: 100px;
        }
        h1, h2 {
            text-shadow: 0 0 12px white;
        }
        button, input {
            padding: 10px 18px;
            border-radius: 10px;
            border: none;
            margin: 8px;
            font-size: 18px;
            cursor: pointer;
        }
        .arrow {
            background: none;
            border: 2px solid white;
            color: white;
            font-size: 28px;
            padding: 6px 12px;
            border-radius: 10px;
            cursor: pointer;
            position: absolute;
            top: -125px;
            left: 10px;
            box-shadow: 0 0 10px white;
        }
        .adminBtn {
            display:none;
            background: purple;
            box-shadow: 0 0 10px purple;
            margin-top: 20px;
        }
    </style>
</head>
<body>

<!-- === –ü–ï–†–®–ò–ô –ï–ö–†–ê–ù === -->
<div id="screen1">
    <h1>–í—ñ—Ç–∞—é –≤–∞—Å —É Helper</h1>
    <p>–¢—É—Ç –≤–∏ –∑–º–æ–∂–µ—Ç–µ –ø–æ–¥–∏–≤–∏—Ç–∏—Å—å —Ç–∞ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ —Å–∞–π—Ç–∏ –¥–ª—è —Ç–æ–≥–æ —â–æ–± –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –≤–∞–º —Ç–æ–π —á–∏ —ñ–Ω—à–∏–π —Ñ–æ—Ä–º–∞—Ç</p>
    <p id="welcomeUser" style="font-size:22px;"></p>

    <button onclick="goNext()">–ü–æ–¥–∏–≤–∏—Ç–∏—Å—è</button>
    <button onclick="showLogin()">–£–≤—ñ–π—Ç–∏</button>
    <button onclick="register()">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</button>
    <button id="adminBtn" class="adminBtn" onclick="showUsersList()">–ê–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å</button>
</div>

<!-- === –î–†–£–ì–ò–ô –ï–ö–†–ê–ù === -->
<div id="screen2" style="display:none; opacity:0; position: relative;">
    <button onclick="goBack()" class="arrow">‚¨Ö</button>
    <h2>–ù–∞—Å—Ç—É–ø–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞</h2>
</div>

<!-- === –†–ï–Ñ–°–¢–†–ê–¶–Ü–Ø === -->
<div id="registerScreen" style="display:none; opacity:0; position: relative;">
    <button onclick="goBackFromRegister()" class="arrow">‚¨Ö</button>
    <h2>–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</h2>
    <input id="regName" type="text" placeholder="–Ü–º'—è">
    <input id="regEmail" type="email" placeholder="–ü–æ—à—Ç–∞">
    <input id="regPass" type="password" placeholder="–ü–∞—Ä–æ–ª—å">
    <button onclick="registerUser()">–ó–±–µ—Ä–µ–≥—Ç–∏ –∞–∫–∞—É–Ω—Ç</button>
</div>

<!-- === –í–•–Ü–î === -->
<div id="loginScreen" style="display:none; opacity:0; position: relative;">
    <button onclick="goBackFromLogin()" class="arrow">‚¨Ö</button>
    <h2>–í—Ö—ñ–¥</h2>
    <input id="loginEmail" type="email" placeholder="–ü–æ—à—Ç–∞">
    <input id="loginPassword" type="password" placeholder="–ü–∞—Ä–æ–ª—å">
    <button onclick="loginUser()">–£–≤—ñ–π—Ç–∏</button>
</div>

<!-- === –ê–î–ú–Ü–ù –ü–ê–ù–ï–õ–¨ === -->
<div id="adminScreen" style="display:none;">
    <h2>–°–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤</h2>
    <div id="usersList" style="font-size:20px;"></div>
    <button onclick="showScreen('screen1')">–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è</button>
</div>

<script>

function fadeOut(el, cb) {
    el.style.transition = "opacity 0.8s";
    el.style.opacity = 0;
    setTimeout(() => {
        el.style.display = "none";
        if (cb) cb();
    }, 800);
}

function fadeIn(el) {
    el.style.display = "block";
    setTimeout(() => el.style.opacity = 1, 50);
}

function showScreen(id) {
    document.querySelectorAll("body > div").forEach(d=>{
        d.style.display="none"; d.style.opacity=0;
    });
    fadeIn(document.getElementById(id));
}

function goNext(){ showScreen("screen2"); }
function goBack(){ showScreen("screen1"); }
function register(){ showScreen("registerScreen"); }
function showLogin(){ showScreen("loginScreen"); }
function goBackFromRegister(){ showScreen("screen1"); }
function goBackFromLogin(){ showScreen("screen1"); }


// ======= –õ–û–ì–Ü–ö–ê –ê–ö–ö–ê–£–ù–¢–Ü–í =======

function registerUser() {
    const name = regName.value;
    const email = regEmail.value;
    const pass = regPass.value;

    if (!name || !email || !pass){ alert("–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è!"); return;}

    let users = JSON.parse(localStorage.getItem("users")) || [];

    if (users.find(u => u.email === email)) {
        alert("–¢–∞–∫–∞ –ø–æ—à—Ç–∞ –≤–∂–µ —ñ—Å–Ω—É—î!");
        return;
    }

    users.push({name,email,pass});
    localStorage.setItem("users", JSON.stringify(users));
    alert("–ê–∫–∞—É–Ω—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ!");
    showScreen("screen1");
}

function loginUser() {
    const email = loginEmail.value;
    const pass = loginPassword.value;

    let users = JSON.parse(localStorage.getItem("users")) || [];
    const user = users.find(u=>u.email===email && u.pass===pass);

    if(!user){
        alert("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –ø–æ—à—Ç–∞ –∞–±–æ –ø–∞—Ä–æ–ª—å!");
        return;
    }

    localStorage.setItem("currentUser", JSON.stringify(user));
    updateUserUI();
    showScreen("screen1");
}

function updateUserUI(){
    const data = JSON.parse(localStorage.getItem("currentUser"));
    if (!data) return;

    welcomeUser.innerText = "üëã –ü—Ä–∏–≤—ñ—Ç, " + data.name + "!";

    if (data.email === "09fushan90@gmail.com") {
        adminBtn.style.display = "inline-block";
    }
}

updateUserUI();

function showUsersList() {
    let users = JSON.parse(localStorage.getItem("users")) || [];
    usersList.innerHTML = users.map(u => `<p>${u.name} ‚Äî ${u.email}</p>`).join("");
    showScreen("adminScreen");
}

</script>

</body>
</html>
